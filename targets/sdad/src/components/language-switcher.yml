styles:
  - !include ./language-switcher.less
!component as: "div"
className: "CM-languageSwitcher"
items:
  - !component as: VisibilityWrapper
    visible: !expression "Object.keys(configuration.translates).length > 1"
    items:
      - !component as: Select
        name: "language"
        type: "native"
        value: !expression "app.locale || 'en'"
        onChange: !expression |
          (locale) => {
            changeLocale(locale);
            analytics.event('Input', { field: 'Language', language: locale });
          }
        options: !expression "Object.keys(configuration.translates).reduce((acc, t) => ({ ...acc, [t]: constants.LANGUAGES[t].name }), {})"
  - !component as: Trigger
    value: !expression "window.COUNTRY"
    change: !function "utils.switchLanguage()"
  - !component as: Trigger
    load: !function "utils.setLanguageFromUrl()"
  - !component as: VisibilityWrapper
    # Not available for MVP
    visible: false
    items:
      - !component as: div
        className: "CM-save"
        items:
          - !component as: svg
            width: "14"
            height: "13"
            viewBox: "0 0 14 13"
            fill: "none"
            xmlns: "http://www.w3.org/2000/svg"
            items:
              - !component as: path
                fillRule: "evenodd"
                clipRule: "evenodd"
                d: "M10.5702 0.125674L13.1702 2.72567C13.2513 2.80745 13.2965 2.91815 13.2959 3.03334V11.7C13.2959 12.418 12.7138 13 11.9959 13H1.5959C0.877927 13 0.295898 12.418 0.295898 11.7V1.30001C0.295898 0.582036 0.877927 7.25238e-06 1.5959 7.25238e-06H10.2625C10.3777 -0.000658675 10.4884 0.0445597 10.5702 0.125674ZM8.52922 3.46667V0.866673H5.06256V3.46667H8.52922ZM3.32923 12.1333V9.09999C3.32923 8.86067 3.52324 8.66666 3.76256 8.66666H9.82922C10.0685 8.66666 10.2625 8.86067 10.2625 9.09999V12.1333H3.32923ZM11.9959 12.1333C12.2352 12.1333 12.4292 11.9393 12.4292 11.7V3.211L10.0849 0.866673H9.39588V3.46667C9.39588 3.94531 9.00786 4.33333 8.52922 4.33333H5.06256C4.58391 4.33333 4.19589 3.94531 4.19589 3.46667V0.866673H1.5959C1.35657 0.866673 1.16256 1.06068 1.16256 1.30001V11.7C1.16256 11.9393 1.35657 12.1333 1.5959 12.1333H2.46256V9.09999C2.46256 8.38202 3.04459 7.79999 3.76256 7.79999H9.82922C10.5472 7.79999 11.1292 8.38202 11.1292 9.09999V12.1333H11.9959Z"
          - "SAVE"
